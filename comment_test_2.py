import re
from timestamps import scrape_comments
video_id= "5JOaTtcg1tE"
api_key = "AIzaSyAzkLcbTqYfW8KHY5lZQlVdPeCzI4D8xIc"

def extract_timestamps_and_descriptions(text):
  pattern2_matches = re.findall(r'(.*?)<a.*?>(.*?)</a>\s*(?:<br>)?', text)
  return(pattern2_matches)



comment = scrape_comments(video_id=video_id,api_key=api_key)[0]
extracted_data = extract_timestamps_and_descriptions(comment)
print(extracted_data)
print("\n")

# Example comment: '1. Demons ', '00:00</a>\r<br>2. Believer <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=172">02:52</a>\r<br>3. Natural <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=376">06:16</a>\r<br>4. Thunder <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=565">09:25</a>\r<br>5. Bad liar <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=753">12:33</a>\r<br>6. Whatever it takes <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=1014">16:54</a>\r<br>7. Birds <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=1215">20:15</a>\r<br>8. Radioactive <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=1434">23:54</a>\r<br>9. Zero <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=1713">28:33</a>\r<br>10. Warriors <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=1923">32:03</a>\r<br>11. Machine <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=2093">34:53</a>\r<br>12. I&#39;m so sorry <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=2296">38:16</a>\r<br>13. Monster <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=2506">41:46</a>\r<br>14. West Coast <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=2756">45:56</a>\r<br>15. Love <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=2974">49:34</a>\r<br>16. Bullet in a gun <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=3140">52:20</a>\r<br>17. Only <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=3345">55:45</a>\r<br>18. Dream <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=3526">58:46</a>\r<br>19. Real Life <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=3785">01:03:05</a>\r<br>20. Walking the Wire <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=4032">01:07:12</a>\r<br>21. Next to me <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=4275">01:11:15</a>\r<br>22. Battle Cry <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=4496">01:14:56</a>\r<br>23. Follow you <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=4767">01:19:27</a>\r<br>24. Rise up <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=4943">01:22:23</a>\r<br>25. Burn out <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=5175">01:26:15</a>\r<br>26. Roots <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=5449">01:30:49</a>\r<br>27. Digital <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=5623">01:33:43</a>\r<br>28. Gold <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=5824">01:37:04</a>\r<br>29. Stuck <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=6041">01:40:41</a>\r<br>30. I don&#39;t know why <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=6232">01:43:52</a>\r<br>31. Ready Aim fire <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=6425">01:47:05</a>\r<br>32. Enemy <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=6665">01:51:05</a>\r<br>33. I bet my life <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=6834">01:53:54</a>\r<br>34. Bones <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=7028">01:57:08</a>\r<br>35. On the of the World <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=7193">01:59:53</a>\r<br>36. Who we are <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=7383">02:03:03</a>\r<br>37. Bleeding out <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=7632">02:07:12</a>\r<br>38. Not today <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=7852">02:10:52</a>\r<br>39. Hear me <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=8114">02:15:14</a>\r<br>40. Friction <a href="https://www.youtube.com/watch?v=5JOaTtcg1tE&amp;t=8345">02:19:05'